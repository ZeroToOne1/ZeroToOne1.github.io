---
title: 编译原理LR1分析法
date: 2021-10-18 22:17:35
tags: LR1分析法
categories: C++
---

# 编译原理实验报告

## 开发工具：JAVA10

## 开发环境：Eclipse 19.03版

## 写代码体会

  *首先第三次实验验收不尽人意，老师就大致浏览了一遍就验收完了，自己写了3，4天的代码，他问都不问，我真的服！*
让我们回到点子上，说到LR1分析法，我大致整理一下求项目集族的算法思想，其实跟书上的思路差不多。现整理一下写分析器需要解决的问题：
 1.首先是解决如何表示文法的项目，就是选择**数据结构**；

  2. 	其次，如何将文法的全部项目用什么形式表示出来；
  3. 	构造怎样的图形界面将项目集族表示出来；
      就自己而言就这些问题了，其实做实验二的图形界面已经做出来了，我沿用了实验二的图形界面。

 ## 构思

 实验给的文法：
 0：S->E
 1：E->E+T
 2：T->F
 3：F->(E)
 4：F->i
 文法的项目：S->.E   S->E.   E->.E+T  E->E.+T等等。
我一开始想的是将这些项目保存在一个二维数组里面，比如S->.E是编号为0的产生式子，且点号在箭头右边第0个位置，所以将它保存在String数组a[0][0],内容就是产生式S->E，但是写到后面发现展望符的存储没法解决，并且String数组的长度是固定的，在逐次求出项目集时容易遇到空指针的问题。
之后想到了用一对整数+展望符表示，第一个整数表示产生式的编号，第二个整数表示点号位置。考虑到是将求到的项目集合不断的加到数组里面，所以用arrayList<String>数组表示。
算法思想：
![在这里插入图片描述](https://img-blog.csdnimg.cn/20191101223902942.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3plcm90b29uZTE=,size_16,color_FFFFFF,t_70)

## 求项目的闭包(CLOSURE)

//存储每个状态对应的项目集合
arrayList a = new arrayList<String>();
a = CLOSUE();  //求出初态的项目集
for 遍历a中的每一个元素
     for 文法的每个符号
         if  找到
    
    

## GO()函数
