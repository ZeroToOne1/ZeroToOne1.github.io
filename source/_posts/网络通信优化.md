---
title: 性能优化
date: 2021-12-7 22:17:35
tags: C++
categories: 网络通信
---

## 关于C++网络通信【tcp协议】

 1. 调系统中的缓存，利用输出日志和linux命令统计buffer，并在excel中作图表化分析和对比。 调节socket缓存
 2. 查看底层的内存管理（看跑代码的平台，是linux还是windows，系统中用到的是哪种内存分配方法），可以追更溯源到new/malloc函数是哪个库调用的，比如linux编译器Gnu默认用glibc库的malloc进行内存分配，所谓ptmalloc。但还有比ptmalloc更好的算法：tcmalloc以及jemalloc。它们各有优缺点，且经过业界大量实践，可以根据各自特点来优化自己的系统。
 1. 由于是传输网络数据和通信的系统，有涉及到ace_messageblock类（封装了用来网络传输的消息体，有共享底层数据块的功能实现，有点像共享指针）。
 1. 利用日志分析底层库队列、应用层队列、时延等指标，找到需要优化的指标再进行针对优化。